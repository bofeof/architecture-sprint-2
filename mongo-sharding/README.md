# Задание 2. Решение кейса с шардированием

Для шардирования добавлено 2 шарда, 3 роутера и 3 конфига. Настройки представлены в compose.yaml

## Как запустить


### Запускаем mongodb и приложение

```shell
docker compose up -d
```


### Запустить настройку БД и наполнение. Скрипт:
```shell
./scripts/init.sh
```

В скрипте будут настроены роутеры, шарды, конфиги. В конце выполнения скрипта будет показано количество документов в шардах
```shell
...
Добавление шардов в кластер через mongos_router1 и наполнение БД
{
  acknowledged: true,
  insertedId: ObjectId('67fed9e7780c4b6dd4d865c7')
}
Проверка shard1
Количество документов: 3936
Проверка shard2
Количество документов: 4064
Финиш
```

## Проверка эндпойнтов

Узнать белый ip виртуальной машины

```shell
curl --silent http://ifconfig.me
```

## Доступные эндпоинты
```
http://<ip виртуальной машины>:8080/docs
или
http://localhost:8080/docs
```